(window.webpackJsonp=window.webpackJsonp||[]).push([["default~home~login"],{"5b1e":function(e,t,a){"use strict";a("8e6e"),a("ac6a"),a("456d"),a("7514"),a("6762"),a("2fdb"),a("20d6");var n=a("bd86"),r=(a("96cf"),a("3b8d")),l=a("e297"),o=a.n(l);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={name:"langTool",data:function(){return{isShow:!1,isLogin:!!sessionStorage.getItem("token"),lang:localStorage.getItem("local")||this.DEFAULT_LANG,langCode:this.DEFAULT_LANG,langIndex:0,langData:[],langsImgArr:[{key:"zh",value:this.$t("lang_zh"),code:"zh_CN"},{key:"tc",value:this.$t("lang_xin"),code:"zh_TC"},{key:"en",value:this.$t("lang_en"),code:"en"},{key:"vi",value:this.$t("lang_vi"),code:"vi"},{key:"th",value:this.$t("lang_th"),code:"th"},{key:6,value:this.$t("lang_yn"),code:"id"},{key:7,value:this.$t("lang_yd"),code:"hi"},{key:8,value:this.$t("lang_ja"),code:"ja"},{key:9,value:this.$t("lang_hg"),code:"ko"}],flag:!0}},created:function(){this.getLangList(),this.lang=localStorage.getItem("local")},mounted:function(){this.dealEmit()},methods:{dealEmit:function(){var e=this;this.$bus.$off("langk"),this.$bus.$on("langk",function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(a,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:1===n&&e.flag?(r=a,localStorage.setItem("local",r),e.flag=!1,e.$nextTick((function(){e.lang=r,e.$i18n.locale=r}))):e.lang=a;case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())},getLangList:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var a,n,r,l,i,s,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=localStorage.getItem("local")||e.langCode,n="",t.t0=a,t.next="zh"===t.t0?5:"tc"===t.t0?7:"zh_CN"===t.t0?9:"zh_TC"===t.t0?11:"en"===t.t0?13:"vi"===t.t0?15:"th"===t.t0?17:"tc"===t.t0?19:21;break;case 5:return n="zh_CN",t.abrupt("break",21);case 7:return n="zh_TC",t.abrupt("break",21);case 9:return n="zh_CN",t.abrupt("break",21);case 11:return n="zh_TC",t.abrupt("break",21);case 13:return n="en",t.abrupt("break",21);case 15:return n="vi",t.abrupt("break",21);case 17:return n="th",t.abrupt("break",21);case 19:return n="zh_TC",t.abrupt("break",21);case 21:return e.isShow=!1,t.next=24,e.api.langList();case 24:if((r=t.sent).success){if(l=r.data,e.langData=[],l.map((function(t,a){e.langsImgArr.map((function(a){if(a.code==t.defaultLangCode){var n=c(c({},t),a);e.langData.push(n)}}))})),e.langIndex=e.langData.findIndex((function(e){return e.defaultLangCode===n})),-1==e.langIndex)for(i=0;i<e.langData.length;i++)s=e.langData[i],"",("tc"===s.defaultLangCode?"zh_TC":"zh"===s.defaultLangCode?"zh_CN":s.defaultLangCode)==e.siteInfo.langCode&&e.fixLang(s);else e.$i18n.local=n;e.isLogin||(g=localStorage.getItem("local")||e.DEFAULT_LANG,e.langIndex=e.langData.findIndex((function(e){return e.key===g}))),o.a.set("langData",e.langData),e.isShow=!0}else e.isShow=!1,e.$messages.error(r.data.msg);case 26:case"end":return t.stop()}}),t)})))()},fixLang:function(e){this.isLogin?this.changeLang(e):this.changeLangs(e)},changeLangs:function(e){localStorage.setItem("local",e),this.$i18n.locale=e},changeLang:function(e){var t=this;if(["tc","en","vi","th","zh"].includes(e)){var a={langId:this.langData.find((function(t){return t.key===e})).defaultLangId};this.api.langEdit(a).then((function(a){a.success?(t.$messages.success(t.$t("setok")),localStorage.setItem("local",e),t.$i18n.locale=e,window.location.reload()):a.data&&t.$messages.error(a.data.msg)}))}}}},g=a("2877"),u=Object(g.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isShow?a("div",{staticClass:"lang-tool"},[a("el-select",{staticClass:"langs",attrs:{filterable:"",size:"mini",placeholder:e.$t("p_choose")},on:{change:e.fixLang},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}},e._l(e.langData,(function(e){return a("el-option",{key:e.key,attrs:{label:e.defaultLangName,value:e.key}})})),1)],1):e._e()}),[],!1,null,null,null);t.a=u.exports}}]);